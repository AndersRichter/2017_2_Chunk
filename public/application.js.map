{"version":3,"sources":["webpack:///webpack/bootstrap 4f06803c27aa74a432ce","webpack:///./develop/blocks/block/block.js","webpack:///./develop/views/commonView.js","webpack:///./develop/blocks/form/form.js","webpack:///./develop/blocks/message/message.js","webpack:///./develop/modules/http.js","webpack:///./develop/modules/eventBus.js","webpack:///./develop/include.js","webpack:///./develop/Game/cell.js","webpack:///./develop/Game/field.js","webpack:///./develop/Game/game.js","webpack:///./develop/services/game-service.js","webpack:///./develop/views/menuView.js","webpack:///./develop/views/signUpView.js","webpack:///./develop/templates/signUpFileds.js","webpack:///./develop/views/loginView.js","webpack:///./develop/templates/loginFields.js","webpack:///./develop/views/backButtonView.js","webpack:///./develop/views/profileView.js","webpack:///./develop/views/rulesView.js","webpack:///./develop/views/scoreboardView.js","webpack:///./develop/templates/scoreBoard.js","webpack:///./develop/views/updateView.js","webpack:///./develop/templates/updateFields.js","webpack:///./develop/views/canvasView.js","webpack:///./develop/services/user-service.js","webpack:///./develop/modules/router.js","webpack:///./develop/templates/routerFields.js","webpack:///./develop \\.(js)$","webpack:///./develop/main.js","webpack:///./develop \\.(css)$","webpack:///./develop/views/viewsCss/backButton.css","webpack:///./develop/views/viewsCss/canvas.css","webpack:///./develop/views/viewsCss/form.css","webpack:///./develop/views/viewsCss/menu.css","webpack:///./develop/views/viewsCss/section.css","webpack:///./develop/views/viewsCss/signUp.css","webpack:///./develop/views/viewsCss/view.css"],"names":["Block","constructor","el","Create","tagName","attrs","classes","text","document","createElement","forEach","className","classList","add","name","setAttribute","textContent","setText","clear","innerHTML","hide","show","removeAttribute","append","block","appendChild","remove","removeChild","on","event","callback","addEventListener","removeEventListener","CommonView","blocks","view","elements","setTimeout","style","setProperty","Form","fields","field","f","push","bind","onSubmit","preventDefault","formdata","element","value","reset","Message","backendUrl","baseUrl","window","location","protocol","host","console","log","Http","FetchGet","address","url","myHeaders","Headers","fetch","method","mode","credentials","headers","FetchPost","body","set","JSON","stringify","BaseUrl","EventBus","listeners","listener","emit","data","requireAll","r","keys","Cell","setCoordinates","x","y","setFigure","num","figure","setId","idx","idy","setBrightness","br","brightness","sideOfCube","sideOfCanvas","indent","maxMove","brightOn","brightOff","figureIndentX","figureIndentY","Field","count","canvas","eventBus","imgUrl","imgs","ok","canvasForCubes","canvasForFigure","winDiv","bus","i","length","img","Image","onload","src","massOfUrl","arrayOfFigures","arrayOfCubes","setCoordinatesOnField","startOfFieldX","startOfFieldY","cubes","diff","j","drawField","drawImage","clearField","clearRect","findById","resetArrayOfFigure","drawCountOfFigure","arrayOfPlayers","id","fillStyle","font","fillText","username","gameOver","playerID","win","deleteFigure","drawFigures","drawAllFigures","deleteAllFigure","clearFigures","brightCubes","idx2","idy2","Math","abs","deleteAllBrightCube","sq","sqrt","side","brightLevel","width","maxPlayers","generatorId","array","Game","canvasForClicks","coordOfMove","x1","x2","y1","y2","generatorID","gameService","Start","хранилище","localStorage","response","start","gameData","gameID","json","setItem","Complete","complete","players","currentPlayerID","setFiguresByArray","Play","coord","exit","play","stepProcessing","Status","status","removeItem","startGame","handleEvent","updateCanvas","model","findOffset","obj","curX","curY","offsetParent","offsetLeft","offsetTop","pos","mouseX","pageX","mouseY","pageY","XX","YY","next","GameService","message","height","resp","errorMessage","user","MenuView","router","menuElems","profile","signup","login","update","rules","scores","elem","contains","signUpView","userService","form","formData","childNodes","item","email","password","confirm","goTo","setErrorText","err","signUpFIelds","type","size","placeholder","required","class","LoginView","loginFields","backButtonView","backButton","button","profileView","render","rulesView","emitBus","back","ScoreboardView","UserService","users","score","scoreboardTemplate","template","pug_match_html","pug_escape","e","a","t","exec","c","n","s","index","charCodeAt","substring","locals","pug_html","pug_mixins","pug_interp","locals_for_with","$$obj","pug_index0","$$l","call","undefined","updateView","getDataFetch","old_password","updateFields","CanvasView","canvas1","canvas2","getContext","isLoggedIn","force","logout","loadUsersList","Router","routes","app","target","toLowerCase","href","onpopstate","pathname","changeState","_routes","counter","route","url_pattern","slice_Routes","slice","findNewState","path","findIndex","_route","match","history","pushState","page","replaceState","menuView","loginView","scoreboardView","game","Views","browserStorage"],"mappings":"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","file":"application.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4f06803c27aa74a432ce","'use strict';\n/**\n * Базовый класс блока\n * @module Block\n */\nexport default class Block {\n\t/**\n\t * @param {HTMLElement} el - корневой элемент блока\n\t * @constructor\n\t */\n\tconstructor(el) {\n\t\tthis.el = el;\n\t}\n\n\t/**\n\t * Фабричный метод, который ползволяет удобро создавать блоки с заданными характеристиками\n\t * @param {string} [tagName='div'] - tagName блока\n\t * @param {*} [attrs={}] - объект с атрибутами блока\n\t * @param {string[]} [classes=[]] - список имён классов\n\t * @param {string|null} [text=null] - опциональный текст блока\n\t * @return {Block}\n\t * @constructor\n\t */\n\tstatic Create(tagName = 'div', attrs = {}, classes = [], text = null) {\n\t\tconst el = document.createElement(tagName);\n\t\tclasses.forEach(function (className) {\n\t\t\tel.classList.add(className);\n\t\t});\n\t\tfor (let name in attrs) {\n\t\t\tel.setAttribute(name, attrs[name]);\n\t\t}\n\t\tif (text) {\n\t\t\tel.textContent = text;\n\t\t}\n\t\treturn new Block(el);\n\t}\n\n\n\t/**\n\t * Установить новый текст для блока\n\t * @param {string} text\n\t */\n\tsetText(text) {\n\t\tthis.el.textContent = text;\n\t}\n\n\t/**\n\t * Очищает содержимое блока\n\t */\n\tclear() {\n\t\tthis.el.innerHTML = '';\n\t}\n\n\t/**\n\t * Скрывает блок\n\t */\n\thide() {\n\t\tthis.el.setAttribute('hidden', 'hidden');\n\t}\n\n\t/**\n\t * Отображает блок\n\t */\n\tshow() {\n\t\tthis.el.removeAttribute('hidden');\n\t}\n\n\t/**\n\t * Добавляет к текущему блоку дочерний\n\t * @param {Block} block\n\t * @return {Block}\n\t */\n\tappend(block) {\n\t\tthis.el.appendChild(block.el);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Удаляет у текущего блока дочерний\n\t * @param {Block} block\n\t * @return {Block}\n\t */\n\tremove(block) {\n\t\tthis.el.removeChild(block.el);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Позволяет подписаться на событие\n\t * @param {string} event\n\t * @param {EventListener} callback\n\t * @return {function(this:Block)} - функция отписки от события\n\t */\n\ton(event, callback) {\n\t\tthis.el.addEventListener(event, callback);\n\t\treturn () => {\n\t\t\tthis.el.removeEventListener(event, callback);\n\t\t};\n\t}\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./develop/blocks/block/block.js","\"use strict\";\nimport Block from \"../blocks/block/block.js\";\n\nimport EventBus from \"../modules/eventBus\"\n\nexport default class CommonView extends Block {\n\tconstructor(blocks) {\n\t\tconst view = document.createElement(\"section\");\n\n\t\tsuper(view);\n\n\t\tthis.elements = blocks;\n\n\t\tfor (const block in this.elements) {\n\t\t\tthis.append(this.elements[block]);\n\t\t}\n\t}\n\n\n\tshow() {\n\t\tsetTimeout(() => {this.el.style.setProperty(\"display\", \"flex\");}, 170);\n\t\tsetTimeout(() => {this.el.classList.remove(\"hidden\");}, 130)\n\t}\n\n\n\thide() {\n\t\tthis.el.classList.add(\"hidden\",);\n\t\tsetTimeout(() => {this.el.style.setProperty(\"display\", \"none\");}, 170);\n\t}\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./develop/views/commonView.js","/**\n * Базовый класс формы\n * @module Form\n */\n'use strict';\nimport Block from \"../block/block\";\n\n\nexport default class Form extends Block {\n\t/**\n\t * @param fields []- корневой элемент блока\n\t * @constructor\n\t */\n\tconstructor(fields = []) {\n\t\tconst el = document.createElement('form');\n\t\tsuper(el);\n\n\t\tthis.fields = [];\n\t\tfields.forEach(function (field) {\n\t\t\tconst f = Block.Create('input', field.attrs || {}, field.classes || []);\n\t\t\tthis.fields.push(f);\n\t\t\tthis.append(f);\n\t\t}.bind(this));\n\n\t\tthis.el.classList.add(\"form-block\");\n\t}\n\n\n\t/**\n\t * Вызывается при отправке формы\n\t * @param {Function} callback - колбек функция\n\t */\n\tonSubmit(callback) {\n\t\tthis.el.addEventListener('submit', (event) => {\n\t\t\tevent.preventDefault();\n\t\t\tconst formdata = {};\n\t\t\tconst elements = this.el.elements;\n\t\t\t//запись элементов формы в formdata\n\t\t\tfor (let element in elements) {\n\t\t\t\tformdata[elements[element].name] = elements[element].value;\n\t\t\t}\n\n\t\t\tcallback(formdata);\n\t\t});\n\t}\n\n\t/**\n\t * Сбрасывает атрибуты HTMLElement\n\t */\n\treset() {\n\t\tthis.el.reset();\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./develop/blocks/form/form.js","'use strict';\n\nimport Block from \"../block/block\";\n\n/**\n * Базовый класс формы для отправки информационных сообщений в тело html документа\n * @module Message\n */\nexport default class Message extends Block {\n\t/**\n\t * Создает элемент div CSS класса message\n\t * @constructor\n\t */\n\tconstructor() {\n\t\tconst el = document.createElement('div');\n\t\tsuper(el);\n\n\t\tthis.el.classList.add(\"message\");\n\n\t\t// el.classList.add('message');\n\n\t}\n\n\n\t/**\n\t * Сбрасывает атрибуты HTMLElement\n\t */\n\treset() {\n\t\tthis.el.reset();\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./develop/blocks/message/message.js","'use strict';\n\tconst backendUrl = \"https://backend-java-spring.herokuapp.com\";\n\tconst baseUrl = `${window.location.protocol}//${window.location.host}`;\n\tconsole.log(\"baseUrl = \", baseUrl);\n\n\t/**\n\t * Модуль, предоставляющий методы для выполнения HTTP-запросов\n\t * @module Http\n\t */\n\texport default class Http {\n\t\t/**\n\t\t * Выполняет GET-запрос по указанному адресу\n\t\t * @param {string} address - адрес запроса\n\t\t */\n\t\tstatic FetchGet(address) {\n\t\t\tconst url = backendUrl + address;\n\t\t\tconst myHeaders = new Headers();\n\t\t\tmyHeaders.append(\"Content-Type\", 'application/json; charset=utf-8');\n\t\t\treturn fetch(url, {\n\t\t\t\tmethod: 'GET',\n\t\t\t\tmode: 'cors',\n\t\t\t\tcredentials: 'include',\n\t\t\t\theaders: myHeaders,\n\t\t\t})\n\t\t}\n\n\n\t\t/**\n\t\t * Выполняет POST-запрос по указанному адресу\n\t\t * @param {Object} body - body-request\n\t\t * @param {string} address - адрес запроса\n\t\t */\n\t\tstatic FetchPost(address, body) {\n\t\t\tconst url = backendUrl + address;\n\t\t\tconst myHeaders = new Headers();\n\t\t\tmyHeaders.set(\"Content-Type\", \"application/json; charset=utf-8\");\n\t\t\treturn fetch(url, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\tmode: 'cors',\n\t\t\t\tcredentials: 'include',\n\t\t\t\tbody: JSON.stringify(body),\n\t\t\t\theaders: myHeaders\n\t\t\t})\n\t\t}\n\t}\n\tHttp.BaseUrl = null;\n\n\n\n// WEBPACK FOOTER //\n// ./develop/modules/http.js","\"use strict\";\n\nexport default class EventBus {\n\tconstructor() {\n\t\tthis.listeners = {};\n\t}\n\n\n\ton(event, listener) {\n\t\tthis.listeners[event] = this.listeners[event] || [];\n\t\tthis.listeners[event].push(listener);\n\t}\n\n\n\temit(event, data) {\n\t\tthis.listeners[event].forEach((listener) => {\n\t\t\tlistener(data);\n\t\t})\n\t}\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./develop/modules/eventBus.js","\"use strict\";\n\nfunction requireAll(r) { r.keys().forEach(r); }\n\nrequireAll(require.context('./', true, /\\.(js)$/));\nrequireAll(require.context('./', true, /\\.(css)$/));\n\n\n\n// WEBPACK FOOTER //\n// ./develop/include.js","'use strict';\n\nexport default class Cell {\n\n\tconstructor() {\n\t}\n\n\tsetCoordinates(x, y) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t}\n\n\tsetFigure(num) {\n\t\tthis.figure = num;\n\t}\n\n\tsetId(idx, idy) {\n\t\tthis.idx = idx;\n\t\tthis.idy = idy;\n\t}\n\n\tsetBrightness(br) {\n\t\tthis.brightness = br;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./develop/Game/cell.js","'use strict';\nimport Cell from \"./cell.js\";\n\nconst sideOfCube = 90;\nconst sideOfCanvas = 850;\nconst indent = 150;\nconst maxMove = 3;\nconst brightOn = 1;\nconst brightOff = 0;\nconst figureIndentX = 5;\nconst figureIndentY = -65;\n\nexport default class Field {\n\n\tconstructor (count, canvas, eventBus) {\n\t\tthis.count = count;\n\t\tlet imgUrl = [];\n\t\timgUrl.push(\"images/cube.png\");\n\t\timgUrl.push(\"images/cubeBr.png\");\n\t\timgUrl.push(\"images/whitch90-130.png\");\n\t\timgUrl.push(\"images/jack90-130.png\");\n\n\t\tlet imgs = [];\n\t\tlet ok = 0;\n\n\t\tthis.canvasForCubes = canvas.canvasForCubes;\n\t\tthis.canvasForFigure = canvas.canvasForFigure;\n\t\tthis.winDiv = canvas.winDiv;\n\t\tthis.bus = eventBus;\n\n\t\tfor(let i = 0; i < imgUrl.length; i++) {\n\t\t\tlet img = new Image();\n\t\t\timgs.push(img);\n\t\t\timg.onload = function () {\n\t\t\t\tok++;\n\t\t\t\tif (ok >= imgUrl.length){\n\t\t\t\t}\n\t\t\t};\n\t\t\timg.src = imgUrl[i];\n\t\t}\n\t\tthis.massOfUrl = [];\n\t\tthis.massOfUrl = imgs;\n\n\t\tthis.arrayOfFigures = [];\n\t\tfor (let i = 0; i < imgUrl.length; i++) {\n\t\t\tthis.arrayOfFigures[i] = 0;\n\t\t}\n\n\t\tthis.arrayOfCubes = this.setCoordinatesOnField();\n\t}\n\n\tsetCoordinatesOnField() {\n\t\tlet startOfFieldX = sideOfCanvas/2 - sideOfCube/2;\n\t\tlet startOfFieldY = indent + (sideOfCanvas-indent - sideOfCube*this.count)/2;\n\t\tlet cubes = [];\n\t\tfor (let i = 0; i < this.count; i++) {\n\t\t\tcubes[i] = [];\n\t\t}\n\t\tlet diff = 0;\n\t\tfor (let i = 0; i < this.count; i++) {\n\t\t\tlet x = startOfFieldX + diff;\n\t\t\tlet y = startOfFieldY + diff;\n\t\t\tfor (let j = 0; j < this.count; j++) {\n\t\t\t\tcubes[i][j] = new Cell();\n\t\t\t\tcubes[i][j].setFigure(0);\n\t\t\t\tcubes[i][j].setBrightness(0);\n\t\t\t\tcubes[i][j].setId(i, j);\n\t\t\t\tcubes[i][j].setCoordinates(x, y);\n\t\t\t\tx -= sideOfCube/2+2;\n\t\t\t\ty += sideOfCube/2+2;\n\t\t\t}\n\t\t\tdiff += sideOfCube/2+2;\n\t\t}\n\t\treturn cubes;\n\t}\n\n\tdrawField () {\n\t\tfor (let i = 0; i < this.count; i++) {\n\t\t\tfor (let j = 0; j < this.count; j++) {\n\t\t\t\tlet br = this.arrayOfCubes[i][j].brightness;\n\t\t\t\tthis.canvasForCubes.drawImage(\n\t\t\t\t\tthis.massOfUrl[br],\n\t\t\t\t\tthis.arrayOfCubes[i][j].x,\n\t\t\t\t\tthis.arrayOfCubes[i][j].y);\n\t\t\t}\n\t\t}\n\t}\n\n\tclearField() {\n\t\tthis.canvasForCubes.clearRect(0, 0, sideOfCanvas, sideOfCanvas);\n\t}\n\n\tfindById(idx, idy) {\n\t\tfor (let i = 0; i < this.count; i++) {\n\t\t\tfor (let j = 0; j < this.count; j++) {\n\t\t\t\tif (this.arrayOfCubes[i][j].idx === idx && this.arrayOfCubes[i][j].idy === idy)\n\t\t\t\t\treturn this.arrayOfCubes[i][j];\n\t\t\t}\n\t\t}\n\t}\n\n\tresetArrayOfFigure() {\n\t\tfor (let i = 0; i < this.arrayOfFigures.length; i++) {\n\t\t\tthis.arrayOfFigures[i] = 0;\n\t\t}\n\t}\n\n\tsetFigure(idx, idy, num) {\n\t\tthis.findById(idx, idy).setFigure(num);\n\t\tthis.arrayOfFigures[num]++;\n\t}\n\n\tdrawCountOfFigure(arrayOfPlayers, id) {\n\t\tthis.canvasForCubes.fillStyle = 'white';\n\t\tthis.canvasForCubes.font = 'bold 20px sans-serif';\n\t\tlet x = 60;\n\t\tlet y = 30;\n\t\tlet diff = 40;\n\t\tthis.canvasForCubes.clearRect(0, 0, 400, 200);\n\t\tfor (let i = 0; i < arrayOfPlayers.length; i++) {\n\t\t\tthis.canvasForCubes.fillText(arrayOfPlayers[i].username + \" : \" + this.arrayOfFigures[i+2], x, y);\n\t\t\tthis.canvasForCubes.drawImage(this.massOfUrl[i+2], x - diff, y - diff/2-10, 35, 45);\n\t\t\ty += diff;\n\t\t}\n\t\tthis.canvasForCubes.fillText(\"Ходит игрок : \" + arrayOfPlayers[id].username, x, y);\n\t}\n\n\tgameOver(playerID) {\n\t\tlet win = false;\n\t\tif (this.arrayOfFigures[playerID+2] > this.arrayOfFigures[playerID+3]) {\n\t\t\twin = true;\n\t\t}\n\t\tthis.bus.emit(\"endOfGame\", win);\n\t}\n\n\tdeleteFigure(idx, idy) {\n\t\tthis.findById(idx, idy).setFigure(0);\n\t}\n\n\tdrawFigures(idx, idy) {\n\t\tthis.canvasForFigure.drawImage(\n\t\t\tthis.massOfUrl[this.findById(idx, idy).figure],\n\t\t\tthis.findById(idx, idy).x + figureIndentX,\n\t\t\tthis.findById(idx, idy).y + figureIndentY);\n\t}\n\n\tdrawAllFigures() {\n\t\tfor (let i = 0; i < this.count; i++) {\n\t\t\tfor (let j = 0; j < this.count; j++) {\n\t\t\t\tif (this.arrayOfCubes[i][j].figure > 1) {\n\t\t\t\t\tthis.drawFigures(i, j);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tdeleteAllFigure() {\n\t\tfor (let i = 0; i < this.count; i++) {\n\t\t\tfor (let j = 0; j < this.count; j++) {\n\t\t\t\tthis.deleteFigure(i, j);\n\t\t\t}\n\t\t}\n\t\tthis.resetArrayOfFigure();\n\t}\n\n\tclearFigures() {\n\t\tthis.canvasForFigure.clearRect(0, 0, sideOfCanvas, sideOfCanvas);\n\t}\n\n\tbrightCubes(idx, idy) {\n\t\tfor (let i = 0; i < this.count; i++) {\n\t\t\tfor (let j = 0; j < this.count; j++) {\n\t\t\t\tlet idx2 = this.arrayOfCubes[i][j].idx;\n\t\t\t\tlet idy2 = this.arrayOfCubes[i][j].idy;\n\t\t\t\tif (Math.abs(idx2 - idx) >= maxMove\n\t\t\t\t\t|| Math.abs(idy2 - idy) >= maxMove\n\t\t\t\t\t|| this.arrayOfCubes[i][j].figure !== 0\n\t\t\t\t) {}\n\t\t\t\telse {\n\t\t\t\t\tthis.arrayOfCubes[i][j].setBrightness(brightOn);\n\t\t\t\t}\n\t\t\t\tthis.findById(idx, idy).setBrightness(brightOff);\n\t\t\t}\n\t\t}\n\t}\n\n\tdeleteAllBrightCube () {\n\t\tfor (let i = 0; i < this.count; i++) {\n\t\t\tfor (let j = 0; j < this.count; j++) {\n\t\t\t\tthis.arrayOfCubes[i][j].setBrightness(brightOff);\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./develop/Game/field.js","'use strict';\n\nimport Field from \"./field.js\";\nimport GameService from \"../services/game-service.js\";\n\nconst x = 425;\nconst y = 230;\nconst sq = Math.sqrt(2)/2;\nconst side = 66;\nconst brightLevel = 1;\n\nconst width = 6;\nconst maxPlayers = 2;\n\nfunction* generatorId(array) {\n\tlet i = 0;\n\twhile (i < array.length) {\n\t\tyield array[i].playerID;\n\t\ti++;\n\t\tif (i === array.length)\n\t\t\ti = 0;\n\t}\n}\n\nexport default class Game {\n\tconstructor(canvas, eventBus) {\n\t\tthis.canvas = canvas;\n\n\t\tthis.canvasForCubes = this.canvas.canvasForCubes;\n\t\tthis.canvasForFigure = this.canvas.canvasForFigure;\n\t\tthis.canvasForClicks = this.canvas.canvasForClicks;\n\t\tthis.eventBus = eventBus;\n\n\t\tthis.coordOfMove = {\n\t\t\tx1: -1,\n\t\t\tx2: -1,\n\t\t\ty1: -1,\n\t\t\ty2: -1,\n\t\t};\n\n\t\tthis.generatorID = 0;\n\n\t\tthis.field = new Field(width, this.canvas, this.eventBus);\n\t\tthis.gameService = new GameService();\n\t}\n\n\n\tasync Start() {\n\t\tconst хранилище = window.localStorage;\n\t\tif (!хранилище[\"gameID\"]) {\n            const response = await this.gameService.start(width, width, maxPlayers);\n            this.gameService.gameData.gameID = response.json.gameID;\n            хранилище.setItem(\"gameID\", `${this.gameService.gameData.gameID}`);\n        }\n        else\n        \tthis.gameService.gameData.gameID = хранилище[\"gameID\"];\n\t\tthis.Complete();\n\t}\n\n\n\tasync Complete() {\n\t\tconst response = await this.gameService.complete(this.gameService.gameData.gameID);\n\t\tthis.gameService.gameData.players = response.json.players;\n\t\tthis.generatorID = generatorId(this.gameService.gameData.players);\n\t\tthis.gameService.gameData.playerID = this.gameService.gameData.players[0].playerID;\n\t\tthis.gameService.gameData.currentPlayerID = response.json.currentPlayerID;\n\t\tthis.gameService.gameData.gameOver = response.json.gameOver;\n\t\tthis.gameService.gameData.arrayOfFigures = response.json.field;\n\t\tthis.setFiguresByArray(this.gameService.gameData.arrayOfFigures);\n\t\tthis.field.drawAllFigures();\n\t\tthis.field.drawCountOfFigure(this.gameService.gameData.players, this.gameService.gameData.currentPlayerID);\n\t}\n\n\n\tasync Play(coord, currentPlayerID, exit) {\n\t\tconst gameID = this.gameService.gameData.gameID;\n\t\tconst playerID = this.gameService.gameData.playerID;\n\t\tconst response = await this.gameService.play(coord, gameID, playerID, currentPlayerID);\n\t\tthis.stepProcessing(response, exit);\n\t\tthis.Status(gameID, playerID, this.gameService.gameData.currentPlayerID, exit);\n\t}\n\n\n\tasync Status(gameID, playerID, currentPlayerID, exit) {\n\t\tconst response = await this.gameService.status(gameID, playerID, currentPlayerID);\n\t\tthis.stepProcessing(response, exit);\n\t}\n\n\n\tstepProcessing(response, exit) {\n\t\tthis.gameService.gameData.players = response.json.players;\n\t\tthis.gameService.gameData.currentPlayerID = response.json.currentPlayerID;\n\t\tthis.gameService.gameData.gameOver = response.json.gameOver;\n\t\tthis.gameService.gameData.arrayOfFigures = response.json.field;\n\t\tthis.field.deleteAllFigure();\n\t\tthis.field.clearFigures();\n\t\tthis.setFiguresByArray(this.gameService.gameData.arrayOfFigures);\n\t\tthis.field.drawAllFigures();\n\t\tthis.field.drawCountOfFigure(this.gameService.gameData.players, this.gameService.gameData.currentPlayerID);\n\t\tthis.field.deleteAllBrightCube();\n\t\tthis.field.drawField();\n\t\tif (this.gameService.gameData.gameOver === true) {\n\t\t\tconst хранилище = window.localStorage;\n\t\t\tхранилище.removeItem(\"gameID\");\n\t\t\tthis.field.gameOver(this.gameService.gameData.playerID);\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.canvas.winDiv.hide();\n\t\t\t\texit();\n\t\t\t}, 3000);\n\t\t}\n\t}\n\n\n\tstartGame(exit) {\n\t\tthis.exit = exit;\n\t\tthis.field.deleteAllFigure();\n\t\tthis.field.clearFigures();\n\t\tthis.field.drawField();\n\t\tthis.Start();\n\n\t\tthis.canvasForClicks.addEventListener('click', {handleEvent: this.updateCanvas.bind(this), exit: this.exit}, false);\n\t}\n\n\n\tsetFiguresByArray(array) {\n\t\tfor (let i = 0; i < width; i++) {\n\t\t\tfor (let j = 0; j < width; j++) {\n\t\t\t\tlet model = 0;\n\t\t\t\tif (array[i][j] >= 0) {\n\t\t\t\t\tmodel = array[i][j] + 2;\n\t\t\t\t\tthis.field.setFigure(i, j, model);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfindOffset(obj) {\n\t\tlet curX = 0;\n\t\tlet curY = 0;\n\t\tif (obj.offsetParent) {\n\t\t\tdo {\n\t\t\t\tcurX += obj.offsetLeft;\n\t\t\t\tcurY += obj.offsetTop;\n\t\t\t} while (obj = obj.offsetParent);\n\t\t\treturn {x:curX,y:curY};\n\t\t}\n\t}\n\n\n\tupdateCanvas(event){\n\t\tlet pos = this.findOffset(this.canvasForClicks);\n\t\tlet mouseX = event.pageX - pos.x;\n\t\tlet mouseY = event.pageY - pos.y;\n\t\tlet XX = (mouseX - x + mouseY - y)*sq;\n\t\tlet YY = (mouseY - mouseX + x - y)*sq;\n\n\t\tif (XX < side*width && YY < side*width && XX > 0 && YY > 0) {\n\t\t\tlet idx;\n\t\t\tlet idy;\n\t\t\tfor (let i = 0; i < width; i++) {\n\t\t\t\tif (XX > side*i)\n\t\t\t\t\tidx = i;\n\t\t\t\tif (YY > side*i)\n\t\t\t\t\tidy = i;\n\t\t\t}\n\n\t\t\tif (this.field.findById(idx, idy).figure === this.gameService.gameData.currentPlayerID+2) {\n\t\t\t\tthis.field.deleteAllBrightCube();\n\t\t\t\tthis.field.brightCubes(idx, idy);\n\t\t\t\tthis.field.drawField();\n\n\t\t\t\tthis.coordOfMove.x1 = idx;\n\t\t\t\tthis.coordOfMove.y1 = idy;\n\t\t\t}\n\t\t\tif (this.field.findById(idx, idy).brightness === brightLevel) {\n\t\t\t\tthis.coordOfMove.x2 = idx;\n\t\t\t\tthis.coordOfMove.y2 = idy;\n\n\t\t\t\tthis.Play(this.coordOfMove, this.generatorID.next().value, this.exit);\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./develop/Game/game.js","'use strict';\n\nimport Http from \"../modules/http\";\n\nexport default class GameService {\n    constructor() {\n        this.response = {\n            ok: false,\n            json: {},\n            message: \"\",\n        };\n\n        this.gameData = {\n            gameID: 0,\n            players: [],\n            playerID: 0,\n            currentPlayerID: 0,\n            gameOver: false,\n            arrayOfFigures: [],\n        }\n    }\n\n\n    async start(width, height, maxPlayers) {\n        const resp = await Http.FetchPost('/game/single/create', {width, height, maxPlayers});\n        this.response.json = await resp.json();\n\n        if (resp.status >= 400) {\n            this.response.message = this.response.json.errorMessage;\n            return this.response;\n        }\n\n        this.response.ok = true;\n        this.user = this.response.json;\n        return this.response;\n    }\n\n\n    async complete(gameID) {\n        const resp = await Http.FetchGet('/game/complete?gameID=' + gameID);\n        this.response.json = await resp.json();\n\n        if (resp.status >= 400) {\n            this.response.message = this.response.json.errorMessage;\n            return this.response;\n        }\n\n        this.response.ok = true;\n        this.user = this.response.json;\n        return this.response;\n    }\n\n\n    async play(coord, gameID, playerID, currentPlayerID) {\n        const x1 = coord.x1;\n        const x2 = coord.x2;\n        const y1 = coord.y1;\n        const y2 = coord.y2;\n        const resp = await Http.FetchPost('/game/play', {x1, x2, y1, y2, gameID, playerID, currentPlayerID});\n        this.response.json = await resp.json();\n\n        if (resp.status >= 400) {\n            this.response.message = this.response.json.errorMessage;\n            return this.response;\n        }\n\n        this.response.ok = true;\n        this.user = this.response.json;\n        return this.response;\n    }\n\n\n    async status(gameID, playerID, currentPlayerID) {\n        const resp = await Http.FetchPost('/game/status', {gameID, playerID, currentPlayerID});\n        this.response.json = await resp.json();\n\n        if (resp.status >= 400) {\n            this.response.message = this.response.json.errorMessage;\n            return this.response;\n        }\n\n        this.response.ok = true;\n        this.user = this.response.json;\n        return this.response;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./develop/services/game-service.js","\"use strict\";\nimport CommonView from \"./commonView\";\nimport Block from \"../blocks/block/block.js\";\n\nexport default class MenuView extends CommonView {\n\tconstructor(eventBus, router) {\n\t\tconst menuElems = {\n\t\t\tprofile: Block.Create('div', {'data-section': 'profile'}, ['profile', 'auth'], ''),\n\t\t\tplay: Block.Create('a', {'data-section': 'play', 'href': '/game'}, ['button', 'auth', 'menu__button'], 'Play'),\n\t\t\tsignup: Block.Create('a', {'data-section': 'signup', 'href': '/signup'}, ['button', 'unauth', 'menu__button'], 'Sign up'),\n\t\t\tlogin: Block.Create('a', {'data-section': 'login', 'href': '/login'}, ['button', 'unauth', 'menu__button'], 'Login'),\n\t\t\tupdate: Block.Create('a', {'data-section': 'update', 'href': '/update'}, ['button', 'auth', 'menu__button'], 'Profile'),\n\t\t\trules: Block.Create('a', {'data-section': 'rules', 'href': '/rules'}, ['button', \"every-available\", 'menu__button'], 'Rules'),\n\t\t\tscores: Block.Create('a', {'data-section': 'scores', 'href': '/scoreboard'}, ['button', 'every-available', 'menu__button'], 'Scoreboard'),\n\t\t\texit: Block.Create('a', {'data-section': 'exit', 'href': '/exit'}, ['button', 'auth','menu__button'], 'Exit'),\n\t\t};\n\t\tsuper(menuElems);\n\n\t\tthis.bus = eventBus;\n\n\t\tthis.bus.on(\"unauth\", () => {\n\t\t\tfor (let elem in this.elements) {\n\t\t\t\tif (!this.elements[elem].el.classList.contains(\"unauth\") &&\n\t\t\t\t\t!this.elements[elem].el.classList.contains(\"every-available\")) {\n\t\t\t\t\tthis.elements[elem].hide();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tthis.elements[elem].show();\n\t\t\t}\n\t\t});\n\n\t\tthis.bus.on(\"auth\", () => {\n\t\t\tfor (let elem in this.elements) {\n\t\t\t\tif (!this.elements[elem].el.classList.contains(\"auth\") &&\n\t\t\t\t\t!this.elements[elem].el.classList.contains(\"every-available\")) {\n\t\t\t\t\tthis.elements[elem].hide();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tthis.elements[elem].show();\n\t\t\t}\n\t\t});\n\n\t\tthis.bus.emit(\"unauth\");\n\t\tthis.hide();\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./develop/views/menuView.js","\"use strict\";\n\nimport commonView from \"./commonView\";\nimport Form from \"../blocks/form/form.js\";\nimport Message from \"../blocks/message/message.js\";\nimport signUpFields from \"../templates/signUpFileds\"\n\n\nexport default class signUpView extends commonView {\n\tconstructor(eventBus, userService, router) {\n\t\tconst form = new Form(signUpFields);\n\t\tsuper({form});\n\n\t\tthis.bus = eventBus;\n\t\tthis.userService = userService;\n\t\tthis.router = router;\n\n\t\tthis.form = form;\n\t\tthis.message = new Message();\n\t\tthis.message.clear();\n\t\tthis.message.hide();\n\t\tthis.append(this.message);\n\n\t\tthis.el.addEventListener(\"submit\", (event) => {\n\t\t\tevent.preventDefault();\n\t\t\tconst formData = {};\n\t\t\tconst fields = this.el.childNodes.item(0).elements;\n\n\t\t\tfor (let field in fields) {\n\t\t\t\tformData[fields[field].name] = fields[field].value;\n\t\t\t}\n\t\t\tthis.onSubmit(formData);\n\t\t}, true);\n\n\t\tthis.hide();\n\t}\n\n\n\tasync onSubmit(formData) {\n\t\tconst resp = await this.userService.signup(formData.name, formData.email, formData.password, formData.confirm);\n\t\tif (resp.ok) {\n\t\t\tthis.form.reset();\n\t\t\tthis.message.clear();\n\t\t\tthis.message.hide();\n\t\t\tthis.bus.emit(\"auth\", resp.json.username);\n\t\t\tthis.router.goTo(\"/menu\");\n\t\t}\n\t\telse {\n\t\t\tthis.setErrorText(resp)\n\t\t}\n\t}\n\n\n\tsetErrorText(err) {\n\t\tthis.message.setText(err.message);\n\t\tthis.message.show();\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./develop/views/signUpView.js","\"use strict\";\n\nconst signUpFIelds = [\n\t{attrs: {\n\t\ttype: \"text\",\n\t\tsize: \"128\",\n\t\tname: \"name\",\n\t\tplaceholder: \"Enter your name\",\n\t\trequired: \"required\",\n\t\tclass: \"form-block__input \",\n\t}},\n\t{attrs: {\n\t\ttype: \"email\",\n\t\tsize: \"128\",\n\t\tname: \"email\",\n\t\tplaceholder: \"Enter your email\",\n\t\trequired: \"required\",\n\t\tclass: \"form-block__input \",\n\t}},\n\t{attrs: {\n\t\ttype: \"password\",\n\t\tsize: \"128\",\n\t\tname: \"password\",\n\t\tplaceholder: \"Enter password\",\n\t\trequired: \"required\",\n\t\tclass: \"form-block__input \",\n\t}},\n\t{attrs: {\n\t\ttype: \"password\",\n\t\tsize: \"128\",\n\t\tname: \"confirm\",\n\t\tplaceholder: \"Confirm password\",\n\t\trequired: \"required\",\n\t\tclass: \"form-block__input \",\n\t}},\n\t{attrs: {\n\t\ttype: \"submit\",\n\t\tvalue: \"Submit\",\n\t\tclass: \"form-block__button\",\n\t}}\n];\n\nexport default signUpFIelds;\n\n\n// WEBPACK FOOTER //\n// ./develop/templates/signUpFileds.js","\"use strict\";\n\nimport CommonView from \"./commonView\";\nimport Form from \"../blocks/form/form.js\";\nimport Message from \"../blocks/message/message.js\";\nimport loginFields from  \"../templates/loginFields\";\n\n\nexport default class LoginView extends CommonView {\n\tconstructor(eventBus, userService, router) {\n\t\tconst form = new Form(loginFields);\n\t\tsuper({form});\n\n\t\tthis.form = form;\n\t\tthis.bus = eventBus;\n\t\tthis.router = router;\n\t\tthis.userService = userService;\n\n\t\tthis.message = new Message();\n\t\tthis.message.clear();\n\t\tthis.message.hide();\n\t\tthis.append(this.message);\n\n\t\tthis.el.addEventListener(\"submit\", (event) => {\n\t\t\tevent.preventDefault();\n\t\t\tconst formData = {};\n\t\t\tconst fields = this.el.childNodes.item(0).elements;\n\n\t\t\tfor (let field in fields) {\n\t\t\t\tformData[fields[field].name] = fields[field].value;\n\t\t\t}\n\t\t\tthis.onSubmit(formData);\n\t\t}, true);\n\n\t\tthis.hide();\n\t}\n\n\n\tasync onSubmit(formData) {\n\t\tconst resp = await this.userService.login(formData.username, formData.password);\n\t\tif (resp.ok) {\n\t\t\tthis.form.reset();\n\t\t\tthis.message.clear();\n\t\t\tthis.message.hide();\n\t\t\tthis.bus.emit(\"auth\", resp.json.username);\n\t\t\tthis.bus.emit(\"openMenu\");\n\t\t}\n\t\telse {\n\t\t\tthis.setErrorText(resp);\n\t\t}\n\t}\n\n\n\tsetErrorText(err) {\n\t\tthis.message.setText(err.message);\n\t\tthis.message.show();\n\t}\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./develop/views/loginView.js","\"use strict\";\n\nconst loginFields = [\n\t{\n\t\tattrs: {\n\t\t\ttype: \"text\",\n\t\t\tsize: \"128\",\n\t\t\tname: \"username\",\n\t\t\tplaceholder: \"Enter your name\",\n\t\t\trequired: \"required\",\n\t\t\tclass: \"form-block__input\",\n\t\t}\n\t},\n\t{\n\t\tattrs: {\n\t\t\ttype: \"password\",\n\t\t\tsize: \"128\",\n\t\t\tname: \"password\",\n\t\t\tplaceholder: \"Enter password\",\n\t\t\trequired: \"required\",\n\t\t\tclass: \"form-block__input\",\n\t\t}\n\t},\n\t{\n\t\tattrs: {\n\t\t\ttype: \"submit\",\n\t\t\tvalue: \"Submit\",\n\t\t\tclass: \"form-block__button\",\n\t\t}\n\t}\n];\n\nexport default loginFields;\n\n\n// WEBPACK FOOTER //\n// ./develop/templates/loginFields.js","\"use strict\";\nimport CommonView from \"./commonView\";\nimport Block from \"../blocks/block/block.js\";\n\n\n\nexport default class backButtonView extends Block {\n\tconstructor() {\n\t\tconst backButton = Block.Create('a', {'href': '/menu'}, [\"back__button\"], 'Menu');\n\t\tsuper(backButton.el);\n\n\t\tthis.button = backButton;\n\t\tthis.hide();\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./develop/views/backButtonView.js","\"use strict\";\nimport CommonView from \"./commonView\";\nimport Block from \"../blocks/block/block.js\";\n\n\nexport default class profileView extends Block {\n\tconstructor(eventBus) {\n\t\tconst profile = Block.Create('div', {}, ['userData', 'auth', 'profile']);\n\t\tsuper(profile.el);\n\n\t\tthis.bus = eventBus;\n\t\tthis.bus.on(\"unauth\", () => {this.hide()});\n\t\tthis.bus.on(\"auth\", (username) => {\n\t\t\tthis.setText(username);\n\t\t\tthis.show();\n\t\t});\n\n\t\tthis.hide();\n\t}\n\n\trender(username) {\n\t\tthis.setText(username);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./develop/views/profileView.js","\"use strict\";\n\nimport CommonView from \"./commonView\";\nimport Block from \"../blocks/block/block.js\";\n\n\nexport default class rulesView extends CommonView {\n\tconstructor(emitBus) {\n\t\tconst rules = {\n\t\t\tback: Block.Create('div', {}, ['rulesText', 'back'], 'text Text text'),\n\t\t};\n\n\t\tsuper(rules);\n\n\t\tthis.bus = emitBus;\n\n\t\tthis.bus.on(\"openRules\", () => {\n\t\t\tthis.show();\n\t\t});\n\n\t\tthis.hide();\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./develop/views/rulesView.js","\"use strict\";\n\nimport ScoreboardTemplate from \"../templates/scoreBoard\";\nimport CommonView from \"./commonView\";\n\n\nexport default class ScoreboardView extends CommonView {\n\tconstructor(EventBus, UserService) {\n\t\tsuper();\n\n\t\tthis.bus = EventBus;\n\t\t// this.userService = UserService;\n\n\t\tthis.bus.on(\"openScoreboard\", () => {\n\t\t\tconst users = [\n\t\t\t\t{name: 'Igor', score: '1904'},\n\t\t\t\t{name:'Sasha', score: '2010'}];\n\t\t\tthis.update(users);\n\t\t\tthis.show();\n\t\t});\n\n\t\tthis.hide();\n\t}\n\n\tupdate(users = []) {\n\t\tconsole.log('Scoreboard.update', users[0]);\n\t\tthis.clear();\n\t\tconst scoreboardTemplate = new ScoreboardTemplate();\n\t\tthis.el.innerHTML = scoreboardTemplate.template({users});\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./develop/views/scoreboardView.js","\"use strict\";\n\nexport default class scoreboardTemplate {\n\tconstructor() {\n\t\tthis.pug_match_html = /[\"&<>]/;\n\t}\n\n\tpug_escape(e) {\n\t\tvar a = \"\" + e, t = this.pug_match_html.exec(a);\n\t\tif (!t) return e;\n\t\tvar r, c, n, s = \"\";\n\t\tfor (r = t.index, c = 0; r < a.length; r++) {\n\t\t\tswitch (a.charCodeAt(r)) {\n\t\t\t\tcase 34:\n\t\t\t\t\tn = \"&quot;\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase 38:\n\t\t\t\t\tn = \"&amp;\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase 60:\n\t\t\t\t\tn = \"&lt;\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase 62:\n\t\t\t\t\tn = \"&gt;\";\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tcontinue\n\t\t\t}\n\t\t\tc !== r && (s += a.substring(c, r)), c = r + 1, s += n\n\t\t}\n\t\treturn c !== r ? s + a.substring(c, r) : s\n\t}\n\n\n\n\ttemplate(locals) {\n\t\tvar pug_html = \"\", pug_mixins = {}, pug_interp;\n\t\t;var locals_for_with = (locals || {});\n\t\t(function (users) {\n\t\t\tpug_html = pug_html + \"\\u003Cdiv class=\\\"scoreboard__fields\\\"\\u003E\";\n// iterate users\n\t\t\t;(function () {\n\t\t\t\tvar $$obj = users;\n\t\t\t\tif ('number' == typeof $$obj.length) {\n\t\t\t\t\tfor (var pug_index0 = 0, $$l = $$obj.length; pug_index0 < $$l; pug_index0++) {\n\t\t\t\t\t\tvar user = $$obj[pug_index0];\n\t\t\t\t\t\tpug_html = pug_html + \"\\u003Cdiv\\u003E\\u003Cspan\\u003E\" + (this.pug_escape(null == (pug_interp = user.name) ? \"\" : pug_interp)) + \"\\u003C\\u002Fspan\\u003E\\u003Cspan\\u003E\" + (this.pug_escape(null == (pug_interp = user.score) ? \"\" : pug_interp)) + \"\\u003C\\u002Fspan\\u003E\\u003C\\u002Fdiv\\u003E\";\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar $$l = 0;\n\t\t\t\t\tfor (var pug_index0 in $$obj) {\n\t\t\t\t\t\t$$l++;\n\t\t\t\t\t\tvar user = $$obj[pug_index0];\n\t\t\t\t\t\tpug_html = pug_html + \"\\u003Cdiv\\u003E\\u003Cspan\\u003E\" + (this.pug_escape(null == (pug_interp = user.name) ? \"\" : pug_interp)) + \"\\u003C\\u002Fspan\\u003E\\u003Cspan\\u003E\" + (this.pug_escape(null == (pug_interp = user.score) ? \"\" : pug_interp)) + \"\\u003C\\u002Fspan\\u003E\\u003C\\u002Fdiv\\u003E\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}).call(this);\n\n\t\t\tpug_html = pug_html + \"\\u003C\\u002Fdiv\\u003E\";\n\t\t}.call(this, \"users\" in locals_for_with ? locals_for_with.users : typeof users !== \"undefined\" ? users : undefined));\n\t\t;\n\t\treturn pug_html;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./develop/templates/scoreBoard.js","\"use strict\";\n\nimport CommonView from \"./commonView\";\nimport Form from \"../blocks/form/form.js\";\nimport Message from \"../blocks/message/message.js\";\nimport updateFields from \"../templates/updateFields\"\n\n\nexport default class updateView extends CommonView {\n\tconstructor(eventBus, userService, router) {\n\t\tconst form = new Form(updateFields);\n\t\tsuper({form});\n\n\t\tthis.form = form;\n\t\tthis.bus = eventBus;\n\t\tthis.router = router;\n\t\tthis.userService = userService;\n\n\t\tthis.message = new Message();\n\t\tthis.message.clear();\n\t\tthis.message.hide();\n\t\tthis.append(this.message);\n\n\t\tthis.el.addEventListener(\"submit\", (event) => {\n\t\t\tevent.preventDefault();\n\t\t\tconst formData = {};\n\t\t\tconst fields = this.el.childNodes.item(0).elements;\n\t\t\tfor (let field in fields) {\n\t\t\t\tformData[fields[field].name] = fields[field].value;\n\t\t\t}\n\t\t\tthis.onSubmit(formData);\n\t\t}, true);\n\n\t\tthis.bus.on(\"openUpdate\", async () => {\n\t\t\tconst resp = await this.userService.getDataFetch();\n\t\t\tif (resp.ok) {\n\t\t\t\tconst username = this.form.fields[0].el;\n\t\t\t\tconst email = this.form.fields[1].el;\n\t\t\t\tusername.value = resp.json.username;\n\t\t\t\temail.value = resp.json.email;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.setErrorText(resp.json.message);\n\t\t\t}\n\t\t});\n\n\t\tthis.hide();\n\t}\n\n\n\tasync onSubmit(formData) {\n\t\tconst resp = await this.userService.update(formData.username, formData.email, formData.password, formData.old_password)\n\t\tif (resp.ok) {\n\t\t\tthis.form.reset();\n\t\t\tthis.message.clear();\n\t\t\tthis.message.hide();\n\t\t\tthis.bus.emit(\"auth\", resp.json.username);\n\t\t\tthis.router.goTo(\"/menu\");\n\t\t}\n\t\telse {\n\t\t\tthis.setErrorText(resp)\n\t\t}\n\t}\n\n\n\tsetErrorText(err) {\n\t\tthis.message.setText(err.message);\n\t\tthis.message.show();\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./develop/views/updateView.js","\"use strict\";\n\nconst updateFields = [\n\t{\n\t\tattrs: {\n\t\t\ttype: \"text\",\n\t\t\tsize: \"128\",\n\t\t\tname: \"username\",\n\t\t\tplaceholder: \"Name\",\n\t\t\tclass: \"form-block__input\",\n\t\t}\n\t},\n\t{\n\t\tattrs: {\n\t\t\ttype: \"email\",\n\t\t\tsize: \"128\",\n\t\t\tname: \"email\",\n\t\t\tplaceholder: \"Email\",\n\t\t\tclass: \"form-block__input\",\n\t\t}\n\t},\n\t{\n\t\tattrs: {\n\t\t\ttype: \"password\",\n\t\t\tsize: \"128\",\n\t\t\tname: \"password\",\n\t\t\tplaceholder: \"New password\",\n\t\t\tclass: \"form-block__input\",\n\t\t}\n\t},\n\t{\n\t\tattrs: {\n\t\t\ttype: \"password\",\n\t\t\tsize: \"128\",\n\t\t\tname: \"old_password\",\n\t\t\tplaceholder: \"Old password\",\n\t\t\trequired: \"required\",\n\t\t\tclass: \"form-block__input\",\n\t\t}\n\t},\n\t{\n\t\tattrs: {\n\t\t\ttype: \"submit\",\n\t\t\tvalue: \"Submit\",\n\t\t\tclass: \"form-block__button\",\n\t\t}\n\t}\n];\n\nexport default updateFields;\n\n\n// WEBPACK FOOTER //\n// ./develop/templates/updateFields.js","\"use strict\";\nimport CommonView from \"./commonView\";\nimport Block from \"../blocks/block/block.js\";\n\n\nexport default class CanvasView extends CommonView {\n\tconstructor(eventBus) {\n\t\tconst canvas1 = Block.Create('canvas', {'width': '850', 'height': '850'}, ['canv1'], \"\");\n\t\tconst canvas2 = Block.Create('canvas', {'width': '850', 'height': '850'}, ['canv2'], \"\");\n\t\tconst winDiv = Block.Create('div', {}, [\"winDiv\"], \"\");\n\n\t\tsuper([canvas1, canvas2, winDiv]);\n\n\t\tthis.el.style.setProperty(\"border\", \"none\");\n\t\tthis.el.style.setProperty(\"background-image\", \"./image/cats.jpg\");\n\n\t\tthis.canvas1 = canvas1;\n\t\tthis.canvas2 = canvas2;\n\t\tthis.winDiv = winDiv;\n\t\tthis.winDiv.hide();\n\n\t\tthis.canvasForClicks = this.canvas2.el;\n\t\tthis.canvasForCubes = this.canvas1.el.getContext('2d');\n\t\tthis.canvasForFigure = this.canvas2.el.getContext('2d');\n\n\t\tthis.eventBus = eventBus;\n\t\tthis.eventBus.on(\"endOfGame\", (win) => {\n\t\t\tif (win) {\n\t\t\t\tthis.winDiv.setText(\"You win! =)\");\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.winDiv.setText(\"You lose! =(\");\n\t\t\t}\n\t\t\tthis.winDiv.show();\n\t\t});\n\n\t\tthis.canvas1.el.style.setProperty(\"position\", \"absolute\");\n\t\tthis.canvas2.el.style.setProperty(\"position\", \"absolute\");\n\t\tthis.hide();\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./develop/views/canvasView.js","'use strict';\n\n//по урлу exit не поулчается выйти\n\nimport Http from \"../modules/http\";\n\n/**\n * Сервис для работы с юзерами\n * @module UserService\n */\nexport default class UserService {\n\tconstructor() {\n\t\tthis.user = null;\n\t\tthis.users = [];\n\t}\n\n\n\t/**\n\t * Регистрирует нового пользователя\n\t * @param {string} username\n\t * @param {string} email\n\t * @param {string} password\n\t * @param {string} confirm\n\t */\n\tasync signup(username, email, password, confirm) {\n\t\tconst response = {\n\t\t\tok: false,\n\t\t\tjson: {},\n\t\t\tmessage: \"\",\n\t\t};\n\t\tif (username.length < 4) {\n\t\t\tresponse.message = \"Длина логина должна быть не меньше 4 символов!\";\n\t\t\treturn response;\n\t\t}\n\t\tif (username.length > 12) {\n\t\t\tresponse.message = \"Длина логина не должна превышать 12 символов!\";\n\t\t\treturn response;\n\t\t}\n\t\tif (password.length < 6) {\n\t\t\tresponse.message = \"Длина пароля должна быть не меньше 6 символов!\";\n\t\t\treturn response;\n\t\t}\n\t\tif (password !== confirm) {\n\t\t\tresponse.message = \"Пароли не совпадают!!!\";\n\t\t\treturn response;\n\t\t}\n\t\tif (password === username) {\n\t\t\tresponse.message = \"Логин и пароль не должны совпадать!\";\n\t\t\treturn response;\n\t\t}\n\n\t\tconst resp = await Http.FetchPost('/user/sign_up', {username, email, password});\n\t\tresponse.json = await resp.json();\n\t\tif (resp.status >= 400) {\n\t\t\tresponse.message = response.json.errorMessage;\n\t\t\treturn response;\n\t\t}\n\t\tresponse.ok = true;\n\t\tthis.user = response.json;\n\t\treturn response;\n\t}\n\n\n\t/**\n\t * Авторизация пользователя\n\t * @param {string} login\n\t * @param {string} password\n\t */\n\tasync login(login, password) {\n\t\tconst response = {\n\t\t\tok: false,\n\t\t\tjson: {},\n\t\t\tmessage: \"\",\n\t\t};\n\t\tif (login.length < 4) {\n\t\t\tresponse.message = \"Длина логина должна быть не меньше 4 символов!\";\n\t\t\treturn response;\n\t\t}\n\t\tif (login.length > 12) {\n\t\t\tresponse.message = \"Длина логина не должна превышать 12 символов!\";\n\t\t\treturn response;\n\t\t}\n\t\tif (password.length < 6) {\n\t\t\tresponse.message = \"Попробуй еще раз! Используйте что-то поумнее\";\n\t\t\treturn response;\n\t\t}\n\t\tif (password === login) {\n\t\t\tresponse.message = \"Логин и пароль не должны совпадать!\";\n\t\t\treturn response;\n\t\t}\n\t\tconst resp = await Http.FetchPost('/user/sign_in', {login, password});\n\t\tresponse.json = await resp.json();\n\t\tif (resp.status >= 400) {\n\t\t\tresponse.message = response.json.errorMessage;\n\t\t\treturn response;\n\t\t}\n\t\tresponse.ok = true;\n\t\tthis.user = response.json;\n\t\treturn response;\n\t}\n\n\n\t/**\n\t * Обновляет данные существующего пользователя\n\t * @param {string} username\n\t * @param {string} email\n\t * @param {string} password\n\t * @param {string} old_password\n\t */\n\tasync update(username, email, password, old_password) {//не парсит JSON\n\t\tconst response = {\n\t\t\tok: false,\n\t\t\tjson: {},\n\t\t\tmessage: \"\",\n\t\t};\n\t\tif (username.length < 4) {\n\t\t\tresponse.message = \"Длина логина должна быть не меньше 4 символов!\";\n\t\t\treturn response;\n\t\t}\n\t\tif (username.length > 12) {\n\t\t\tresponse.message = \"Длина логина не должна превышать 12 символов!\";\n\t\t\treturn response;\n\t\t}\n\t\tif (password.length < 6) {\n\t\t\tresponse.message = \"Длина пароля должна быть не меньше 6 символов!\";\n\t\t\treturn response;\n\t\t}\n\t\tif (old_password.length < 6) {\n\t\t\tresponse.message = \"Длина пароля должна быть не меньше 6 символов!\";\n\t\t\treturn response;\n\t\t}\n\t\tif (password === username) {\n\t\t\tresponse.message = \"Логин и пароль не должны совпадать!\";\n\t\t\treturn response;\n\t\t}\n\t\tif (old_password === username) {\n\t\t\tresponse.message = \"Логин и пароль не должны совпадать!\";\n\t\t\treturn response;\n\t\t}\n\n\t\tconst resp = await Http.FetchPost('/user/update', {login, password});\n\t\tresponse.json = await resp.json();\n\t\tif (resp.status >= 400) {\n\t\t\tresponse.message = response.json.errorMessage;\n\t\t\treturn response;\n\t\t}\n\t\tresponse.ok = true;\n\t\tthis.user = response.json;\n\t\treturn response;\n\t}\n\n\n\t/**\n\t * Проверяет, авторизован ли пользователь\n\t * @return {boolean}\n\t */\n\tisLoggedIn() {\n\t\treturn !!this.user;\n\t}\n\n\n\t/**\n\t * Проверяет, авторизован ли пользователь\n\t * @param force - пременная для принудительной отправки гет запроса если true\n\t * @return {Promise} - возвращает функцию колбек с результатом запроса или ошибкой\n\t */\n\tasync getDataFetch(force = false) {//нужно ли возвращать проимс?\n\t\tconst response = {\n\t\t\tok: false,\n\t\t\tjson: {},\n\t\t\tmessage: \"\",\n\t\t};\n\n\t\tif (this.isLoggedIn() && !force) {\n\t\t\tresponse.ok = true;\n\t\t\tresponse.json = this.user;\n\t\t\treturn response;\n\t\t}\n\n\t\tconst resp = await Http.FetchGet('/user/whoisit');\n\t\tresponse.json = await resp.json();\n\n\t\tif (resp.status >= 400) {\n\t\t\tthis.user = null;\n\t\t\tthis.users = [];\n\t\t\tresponse.message = response.json.errorMessage;\n\t\t\treturn response;\n\t\t}\n\t\tresponse.ok = true;\n\t\tthis.user = response.json;\n\t\treturn response;\n\t}\n\n\n\t/**\n\t * Разлогинивает\n\t */\n\tlogout() {\n\t\tif (this.isLoggedIn()) {\n\t\t\tthis.user = null;\n\t\t\tthis.users = [];\n\t\t\tHttp.FetchGet('/user/exit');\n\t\t}\n\t}\n\n\n\t/**\n\t * Запрашивает список пользователей\n\t */\n\tloadUsersList() {\n\t\treturn Http.FetchGet('')\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./develop/services/user-service.js","\"use strict\";\n\nimport routerFields from \"../templates/routerFields\"\nimport Block from \"../blocks/block/block\"\n\n\nexport default class Router {\n\tconstructor(eventBus, userService) {\n\t\tthis.routes = routerFields;\n\t\tthis.bus = eventBus;\n\t\tthis.userService = userService;\n\t\tthis.app = new Block(document.body);\n\n\t\t//реагирует на любые клики. в том числе и сабмиты\n\t\tthis.app.on(\"click\", (event) => {\n\t\t\tconst target = event.target;\n\t\t\tconst type = target.tagName.toLowerCase();\n\t\t\tif (type === 'a'){\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis.goTo(target.href);\n\t\t\t}\n\t\t}, false);\n\n\t\twindow.onpopstate = () => {\n\t\t\tconsole.log(location.pathname);\n\t\t\tthis.changeState(location.pathname);\n\t\t};\n\t}\n\n\n\tasync start() {\n\t\tthis._routes = [];\n\t\tthis.counter = 0;\n\t\tthis.routes.forEach((route) => {\n\t\t\tthis._routes.push({\n\t\t\t\turl_pattern: route.url,\n\t\t\t\temit: (event) => {\n\t\t\t\t\tthis.bus.emit(event)\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tconst resp = await this.userService.getDataFetch();\n\t\tif (resp.ok) {\n\t\t\tthis.bus.emit(\"auth\", resp.json.username);\n\t\t\tconst slice_Routes = this._routes.slice(0, 6);\n\t\t\tthis.findNewState(slice_Routes);\n\t\t}\n\t\telse {\n\t\t\tthis.bus.emit(\"unauth\");\n\t\t\tconst slice_Routes = this._routes.slice(4);\n\t\t\tthis.findNewState(slice_Routes);\n\t\t}\n\t}\n\n\n\tgoTo(path) {\n\t\tconst idx = this._routes.findIndex((_route) => {\n\t\t\treturn path.match(_route.url_pattern)\n\t\t});\n\t\twindow.history.pushState({page: this.routes[idx].url}, this.routes[idx].url, this.routes[idx].url);\n\t\tthis._routes[idx].emit(this.routes[idx].event);\n\t}\n\n\n\t//для кнопки назад и вперед\n\tchangeState(path) {\n\t\tconst idx = this._routes.findIndex((_route) => {\n\t\t\treturn path.match(_route.url_pattern)\n\t\t});\n\t\tconst _route = this._routes[idx];\n\t\t_route.emit(this.routes[idx].event);\n\t}\n\n\n\tfindNewState(slice_Routes) {\n\t\tconst idx = slice_Routes.findIndex(function (_route) {\n\t\t\treturn location.pathname.match(_route.url_pattern);\n\t\t});\n\t\tif (idx > -1) {\n\t\t\tconst _route = slice_Routes[idx];\n\t\t\twindow.history.replaceState(_route.url_pattern, _route.url_pattern, _route.url_pattern);\n\t\t\tthis.changeState(_route.url_pattern);\n\t\t}\n\t\telse {\n\t\t\tconst _route = this._routes[0];\n\t\t\twindow.history.replaceState(_route.url_pattern, _route.url_pattern, _route.url_pattern);\n\t\t\tthis.changeState(this.routes[0].url);\n\t\t}\n\t}\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./develop/modules/router.js","\"use strict\";\n\nconst fields = [\n\t{\n\t\turl: \"/menu\",\n\t\tevent: \"openMenu\"\n\t},\n\t{\n\t\turl: \"/exit\",\n\t\tevent: \"exit\"\n\t},\n\t{\n\t\turl: \"/game\",\n\t\tevent: \"openGame\"\n\t},\n\t{\n\t\turl: \"/update\",\n\t\tevent: \"openUpdate\"\n\t},\n\t{\n\t\turl: \"/scoreboard\",\n\t\tevent: \"openScoreboard\"\n\t},\n\t{\n\t\turl: \"/rules\",\n\t\tevent: \"openRules\"\n\t},\n\t{\n\t\turl: \"/signup\",\n\t\tevent: \"openSignUp\"\n\t},\n\t{\n\t\turl: \"/login\",\n\t\tevent: \"openLogin\"\n\t},\n];\n\nexport default fields;\n\n\n// WEBPACK FOOTER //\n// ./develop/templates/routerFields.js","var map = {\n\t\"./Game/cell.js\": 7,\n\t\"./Game/field.js\": 8,\n\t\"./Game/game.js\": 9,\n\t\"./blocks/block/block.js\": 0,\n\t\"./blocks/form/form.js\": 2,\n\t\"./blocks/message/message.js\": 3,\n\t\"./include.js\": 6,\n\t\"./main.js\": 28,\n\t\"./modules/eventBus.js\": 5,\n\t\"./modules/http.js\": 4,\n\t\"./modules/router.js\": 25,\n\t\"./services/game-service.js\": 10,\n\t\"./services/user-service.js\": 24,\n\t\"./templates/loginFields.js\": 15,\n\t\"./templates/routerFields.js\": 26,\n\t\"./templates/scoreBoard.js\": 20,\n\t\"./templates/signUpFileds.js\": 13,\n\t\"./templates/updateFields.js\": 22,\n\t\"./views/backButtonView.js\": 16,\n\t\"./views/canvasView.js\": 23,\n\t\"./views/commonView.js\": 1,\n\t\"./views/loginView.js\": 14,\n\t\"./views/menuView.js\": 11,\n\t\"./views/profileView.js\": 17,\n\t\"./views/rulesView.js\": 18,\n\t\"./views/scoreboardView.js\": 19,\n\t\"./views/signUpView.js\": 12,\n\t\"./views/updateView.js\": 21\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 27;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./develop \\.(js)$\n// module id = 27\n// module chunks = 0","\n/**\n * Основной модуль работатющий со всеми объектами\n *@module main\n */\n\nimport MenuView from \"./views/menuView\";\n\nimport SignUpView from \"./views/signUpView\";\n\nimport LoginView from \"./views/loginView\";\n\nimport BackButtonView from \"./views/backButtonView\";\n\nimport ProfileView from \"./views/profileView\";\n\nimport RulesView from \"./views/rulesView\";\n\nimport ScoreboardView from \"./views/scoreboardView\";\n\nimport UpdateView from \"./views/updateView\";\n\nimport Canvas from \"./views/canvasView\";\n\nimport Block from \"./blocks/block/block.js\";\n\nimport UserService from \"./services/user-service.js\";\n\nimport EventBus from \"./modules/eventBus\";\n\nimport Router from \"./modules/router\";\n\nimport Game from \"./Game/game\";\n\n\nconst userService = new UserService();\n\nconst eventBus = new EventBus();\n\nconst router = new Router(eventBus, userService);\n\nconst app = new Block(document.body);\n\nconst menuView = new MenuView(eventBus, router);\n\nconst signUpView = new SignUpView(eventBus, userService, router);\n\nconst loginView = new LoginView(eventBus, userService, router);\n\nconst updateView = new UpdateView(eventBus, userService, router);\n\n\nconst profileView = new ProfileView(eventBus);\n\nconst rulesView = new RulesView(eventBus);\n\nconst backButtonView = new BackButtonView();\n\nconst scoreboardView = new ScoreboardView(eventBus, userService);\n\nconst canvas = new Canvas(eventBus);\n\nconst game = new Game(canvas, eventBus);\n\n\n\nconst Views = [];\nViews.push(menuView);\nViews.push(signUpView);\nViews.push(loginView);\nViews.push(updateView);\nViews.push(backButtonView);\nViews.push(rulesView);\nViews.push(scoreboardView);\nViews.push(canvas);\n\n\n\neventBus.on(\"openSignUp\", function() {\n\tViews.forEach((view) => {\n\t\tview.hide();\n\t});\n\tsignUpView.show();\n\tbackButtonView.show();\n});\n\n\neventBus.on(\"openLogin\", function() {\n\tViews.forEach((view) => {\n\t\tview.hide();\n\t});\n\tloginView.show();\n\tbackButtonView.show();\n});\n\n\neventBus.on(\"openUpdate\", function() {\n\tViews.forEach((view) => {\n\t\tview.hide();\n\t});\n\tupdateView.show();\n\tbackButtonView.show();\n});\n\n\neventBus.on(\"openRules\", function() {\n\tViews.forEach((view) => {\n\t\tview.hide();\n\t});\n\trulesView.show();\n\tbackButtonView.show();\n});\n\n\neventBus.on(\"openMenu\", function() {\n\tViews.forEach((view) => {\n\t\tview.hide();\n\t});\n\tconst browserStorage = window.localStorage;\n\tif (browserStorage[\"gameID\"])\n\t\tbrowserStorage.removeItem(\"gameID\");\n\tmenuView.show();\n}.bind(this));\n\n\neventBus.on(\"exit\", function () {\n\tuserService.logout();\n\teventBus.emit(\"unauth\");\n\trouter.goTo('/menu');\n});\n\n\neventBus.on(\"openScoreboard\", function () {\n\tViews.forEach((view) => {\n\t\tview.hide();\n\t});\n\tscoreboardView.show();\n\tbackButtonView.show();\n});\n\n\neventBus.on(\"openGame\", function () {\n\tViews.forEach((view) => {\n\t\tview.hide();\n\t});\n\tbackButtonView.show();\n\tcanvas.show();\n\tgame.startGame(() => router.goTo('/menu'));  //выход в меню\n});\n\n\napp\n\t.append(menuView)\n\t.append(signUpView)\n\t.append(loginView)\n\t.append(backButtonView)\n\t.append(profileView)\n\t.append(rulesView)\n\t.append(scoreboardView)\n\t.append(canvas)\n\t.append(updateView);\n\n\nrouter.start();\n\n\n// WEBPACK FOOTER //\n// ./develop/main.js","var map = {\n\t\"./views/viewsCss/backButton.css\": 30,\n\t\"./views/viewsCss/canvas.css\": 31,\n\t\"./views/viewsCss/form.css\": 32,\n\t\"./views/viewsCss/menu.css\": 33,\n\t\"./views/viewsCss/section.css\": 34,\n\t\"./views/viewsCss/signUp.css\": 35,\n\t\"./views/viewsCss/view.css\": 36\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 29;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./develop \\.(css)$\n// module id = 29\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./develop/views/viewsCss/backButton.css\n// module id = 30\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./develop/views/viewsCss/canvas.css\n// module id = 31\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./develop/views/viewsCss/form.css\n// module id = 32\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./develop/views/viewsCss/menu.css\n// module id = 33\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./develop/views/viewsCss/section.css\n// module id = 34\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./develop/views/viewsCss/signUp.css\n// module id = 35\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./develop/views/viewsCss/view.css\n// module id = 36\n// module chunks = 0"],"sourceRoot":""}