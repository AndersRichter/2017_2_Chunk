{"version":3,"sources":["webpack:///webpack/bootstrap e91dcc72308f767fdc72","webpack:///./develop/workers/botWorker.js"],"names":["self","onmessage","workerRequest","data","workerResponse","code","createGame","getGameInfo","startGame","addBot","getUserID","returnPlayerStep","postMessage","returnBotStep","console","log","startArray","arrayOfField","bots","gamers","code101","botsCount","gameID","gamersCount","maxX","maxY","numberOfPlayers","player","userID","username","email","playerID","online","reason","watchersCount","code104","game","field","gameOver","masterID","watchers","code200","currentPlayerID","code204","playerData","code201","step","src","x","z","dst","code112","makeGameField","size","array","k","i","j","push","moveOrClone","botStep","Math","abs","idx","idz","m","notFreePlane","countFigure"],"mappings":"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","file":"botWorker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 109);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e91dcc72308f767fdc72","self.onmessage = (workerRequest) => {\n\tvar data = workerRequest.data;\n\tvar workerResponse;\n\tswitch (data.code) {\n\t\tcase '100':\n\t\t\tworkerResponse = createGame(data);\n\t\t\tbreak;\n\t\tcase '104':\n\t\t\tworkerResponse = getGameInfo();\n\t\t\tbreak;\n\t\tcase '105':\n\t\t\tworkerResponse = startGame();\n\t\t\tbreak;\n\t\tcase '108':\n\t\t\tworkerResponse = addBot();\n\t\t\tbreak;\n\t\tcase '112':\n\t\t\tworkerResponse = getUserID();\n\t\t\tbreak;\n\t\tcase '201':\n\t\t\tworkerResponse = returnPlayerStep(data);\n\t\t\tself.postMessage(workerResponse);\n\t\t\tworkerResponse = returnBotStep();\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log('Error');\n\t}\n\tself.postMessage(workerResponse);\n};\n\nconst startArray = [\n\t[1,0,0,0,0,0,0,2],\n\t[0,0,0,0,0,0,0,0],\n\t[0,0,0,0,0,0,0,0],\n\t[0,0,0,0,0,0,0,0],\n\t[0,0,0,0,0,0,0,0],\n\t[0,0,0,0,0,0,0,0],\n\t[0,0,0,0,0,0,0,0],\n\t[2,0,0,0,0,0,0,1],\n];\n\nvar arrayOfField = 0;\nvar bots = [];\nvar gamers = [];\n\nvar code101 = {\n\tbotsCount: 0,\n\tcode: '101',\n\tgameID: 1,\n\tgamersCount: 1,\n\tmaxX: 8,\n\tmaxY: 8,\n\tnumberOfPlayers: 2,\n\tplayer: {\n\t\tuserID: 1,\n\t\tusername: \"player\",\n\t\temail: \"player@com\",\n\t\tplayerID: null,\n\t\tonline: true\n\t},\n\treason: \"Connect to preparing game as a player\",\n\twatchersCount: 0\n};\n\nvar code104 = {\n\tcode: '104',\n\tgame: {\n\t\tbots: bots,\n\t\tgameID: code101.gameID,\n\t\tfield: {\n\t\t\tfield: arrayOfField,\n\t\t\tgameOver: false,\n\t\t\tmaxX: code101.maxX,\n\t\t\tmaxY: code101.maxY\n\t\t},\n\t\tgamers: gamers,\n\t\tmasterID: 1,\n\t\tnumberOfPlayers: code101.numberOfPlayers,\n\t\twatchers: code101.watchersCount\n\t},\n\tgameID: code101.gameID,\n\tplayer: null,\n\treason: \"Get full information about explicit game\"\n};\n\nvar code200 = {\n\tcode: '200',\n\tgame: {\n\t\tcurrentPlayerID: 1,\n\t\tfield: {\n\t\t\tfield: arrayOfField,\n\t\t\tgameOver: false,\n\t\t\tmaxX: code101.maxX,\n\t\t\tmaxY: code101.maxY\n\t\t},\n\t\tgameID: code101.gameID,\n\t\tgamers: gamers,\n\t\tnumberOfPlayers: code101.numberOfPlayers,\n\t\twatchers: code101.watchersCount\n\t},\n\treason: \"start the game\"\n};\n\nvar code204 = {\n\tcode: '204',\n\tgameID: null,\n\tfield: {\n\t\tfield: arrayOfField,\n\t\tgameOver: true,\n\t\tmaxX: code101.maxX,\n\t\tmaxY: code101.maxY\n\t},\n\treason: \"Game had ended, check result\"\n};\n\nvar playerData = {\n\tuserID: 1,\n\tusername: \"player\",\n\temail: \"player@com\",\n\tplayerID: null,\n\tonline: true\n};\n\nvar code201 = {\n\tcode: '201',\n\tstep: {\n\t\tsrc: {\n\t\t\tx: 0,\n\t\t\tz: 0\n\t\t},\n\t\tdst: {\n\t\t\tx: 0,\n\t\t\tz: 0\n\t\t}\n\t},\n\treason: \"Game step\"\n};\n\nvar userID = code101.player.userID;\n\nvar code112 = {\n\tcode: '112',\n\tgameID: code101.gameID,\n\treason: \"Returns your userID\",\n\tuserID: userID\n};\n\nfunction makeGameField(size) {\n\tvar array = [];\n\tfor (var k = 0; k < size; k ++) {\n\t\tarray[k] = [];\n\t}\n\tfor (var i = 0; i < size; i ++) {\n\t\tfor (var j = 0; j < size; j ++) {\n\t\t\tarray[i][j] = 0;\n\t\t}\n\t}\n\treturn array;\n}\n\nfunction createGame(data) {\n\tcode101.maxX = data.maxX;\n\tcode101.maxY = data.maxY;\n\tarrayOfField = makeGameField(data.maxX);\n\tarrayOfField = startArray;\n\tcode101.numberOfPlayers = +data.numberOfPlayers;\n\treturn code101;\n}\n\nfunction getGameInfo() {\n\tgamers.push(code101.player);\n\tcode104.game.bots = bots;\n\tcode104.game.gameID = code101.gameID;\n\tcode104.game.field.field = arrayOfField;\n\tcode104.game.field.maxX = code101.maxX;\n\tcode104.game.field.maxY = code101.maxY;\n\tcode104.game.gamers = gamers;\n\tcode104.game.numberOfPlayers = code101.numberOfPlayers;\n\tcode104.game.watchers = code101.watchersCount;\n\tcode104.game.gameID = code101.gameID;\n\n\treturn code104;\n}\n\nfunction startGame() {\n\tarrayOfField = startArray;\n\tcode200.game.field.field = arrayOfField;\n\tcode200.game.field.maxX = code101.maxX;\n\tcode200.game.field.maxY = code101.maxY;\n\tcode200.game.gamers = gamers;\n\tcode200.game.gameID = code101.gameID;\n\tcode200.game.numberOfPlayers = code101.numberOfPlayers;\n\tcode200.game.watchers = code101.watchersCount;\n\n\treturn code200;\n}\n\nfunction addBot() {\n\tcode101.botsCount++;\n\tplayerData.username = `bot`;\n\tplayerData.userID++;\n\tplayerData.email = `bot@com`;\n\tbots.push(playerData);\n\tcode101.player = playerData;\n\n\treturn code101;\n}\n\nfunction getUserID() {\n\tcode112.gameID = code101.gameID;\n\treturn code112;\n}\n\nfunction returnPlayerStep(data) {\n\tcode201.step.src.x = data.step.src.x;\n\tcode201.step.src.z = data.step.src.z;\n\tcode201.step.dst.x = data.step.dst.x;\n\tcode201.step.dst.z = data.step.dst.z;\n\n\treturn code201;\n}\n\nfunction returnBotStep() {\n\tmoveOrClone(code201.step);\n\tstep(code201.step);\n\n\tif (gameOver()) {\n\t\tcode204.field.maxX = code101.maxX;\n\t\tcode204.field.maxY = code101.maxY;\n\t\tcode204.field.field = arrayOfField;\n\n\t\treturn code204;\n\t}\n\n\tbotStep();\n\tmoveOrClone(code201.step);\n\tstep(code201.step);\n\n\tif (gameOver()) {\n\t\tcode204.field.maxX = code101.maxX;\n\t\tcode204.field.maxY = code101.maxY;\n\t\tcode204.field.field = arrayOfField;\n\n\t\treturn code204;\n\t}\n\n\treturn code201;\n}\n\nfunction moveOrClone(step) {\n\tif (Math.abs(step.src.x - step.dst.x) <= 1 && Math.abs(step.src.z - step.dst.z) <= 1) {\n\t\tarrayOfField[step.dst.x][step.dst.z] = arrayOfField[step.src.x][step.src.z];\n\t}\n\telse {\n\t\tarrayOfField[step.dst.x][step.dst.z] = arrayOfField[step.src.x][step.src.z];\n\t\tarrayOfField[step.src.x][step.src.z] = 0;\n\t}\n}\n\nfunction step(step) {\n\tvar idx = step.dst.x;\n\tvar idz = step.dst.z;\n\tfor (var i = 0; i < code101.maxX; i++) {\n\t\tfor (var j = 0; j < code101.maxY; j++) {\n\t\t\t// Первые два условия проверяют, что перебираемая в цикле клетка находится вплотную к заданной.\n\t\t\tif (Math.abs(i - idx) <= 1 &&\n\t\t\t\tMath.abs(j - idz) <= 1) {\n\t\t\t\t// Затем идет проверка, что на этой клетке есть фигура и что она отлична от той, которая совершила ход.\n\t\t\t\tif (arrayOfField[i][j] !== 0 &&\n\t\t\t\t\tarrayOfField[i][j] !== arrayOfField[idx][idz]) {\n\t\t\t\t\t// И затем в массив клеток вносятся соответствующие изменения по фигурам.\n\t\t\t\t\tarrayOfField[i][j] = arrayOfField[idx][idz];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction botStep() {\n\tfor (var i = 0; i < code101.maxX; i++) {\n\t\tfor (var j = 0; j < code101.maxY; j++) {\n\t\t\tif (arrayOfField[i][j] === 2) {\n\t\t\t\tfor (var k = 0; k < code101.maxX; k++) {\n\t\t\t\t\tfor (var m = 0; m < code101.maxY; m++) {\n\t\t\t\t\t\tif (Math.abs(k - i) >= 3 ||\n\t\t\t\t\t\t\tMath.abs(m - j) >= 3 ||\n\t\t\t\t\t\t\tarrayOfField[k][m] !== 0\n\t\t\t\t\t\t) {}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tcode201.step.src.x = i;\n\t\t\t\t\t\t\tcode201.step.src.z = j;\n\t\t\t\t\t\t\tcode201.step.dst.x = k;\n\t\t\t\t\t\t\tcode201.step.dst.z = m; //массив координат фигурок бота, а не четверная вложенность.\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction gameOver() {\n\tvar notFreePlane = 0;\n\tvar countFigure = [];\n\tfor (var k = 0; k < code101.numberOfPlayers; k++) {\n\t\tcountFigure[k] = 0;\n\t}\n\tfor (var i = 0; i < code101.maxX; i++) {\n\t\tfor (var j = 0; j < code101.maxY; j++) {\n\t\t\tif (arrayOfField[i][j] !== 0) {\n\t\t\t\tnotFreePlane++;\n\t\t\t\tcountFigure[arrayOfField[i][j]-1]++;\n\t\t\t}\n\t\t}\n\t}\n\tif (notFreePlane === code101.maxX * code101.maxY)\n\t\treturn true;\n\tfor (var m = 0; m < code101.numberOfPlayers; m++) {\n\t\tif (countFigure[m] === 0)\n\t\t\treturn true;\n\t}\n\treturn false;\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./develop/workers/botWorker.js"],"sourceRoot":""}